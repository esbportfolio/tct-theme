// MODULES

@use 'sass:color';
@use "sass:map";

// SASS FUNCTIONS

// Lighten a color by a percent
@function tint($color, $percentage) {
    @return color.mix(white, $color, $percentage);
}

// Darken a color by a percent
@function shade($color, $percentage) {
    @return color.mix(black, $color, $percentage);
}

// Get the contrasting text color in white or black
@function contrast-text($color) {
    @if (color.channel($color, "lightness", $space: hsl) > 50) {
        @return #000;
    } @else {
        @return #fff;
    }
}

// SASS VARIABLES

$tct-green: #00a56a;
$tct-red: #ee4a25;
$tct-yellow: #e6a622;
$tct-blue: #0066a3;
$tct-tan: #f3edd7;
$tct-dk-green: #153128;

// LISTS AND MAPS

$breakpoints: (
    'sm': 600px,
    'md': 768px,
    'lg': 992px,
    'xl': 1200px
);

$style-parts: (
    'background-color': 'bg',
    'border': 'border',
    'color': 'txt'
);

$theme-colors: (
    'green': $tct-green,
    'red': $tct-red,
    'yellow': $tct-yellow,
    'blue': $tct-blue,
    'tan': $tct-tan,
    'dk-green': $tct-dk-green,
    'white': #fff,
    'black': #000
);

$context-colors: (
    'success': $tct-green,
    'warning': $tct-yellow,
    'danger': $tct-red,
    'info': $tct-blue
);

/************ FONTS ************/

@font-face {
    font-family: 'Prompt';
    src: url("../assets/font-prompt/Prompt-Regular.ttf");
    font-weight: 500;
    font-style: normal;
}

@font-face {
    font-family: 'Prompt';
    src: url("../assets/font-prompt/Prompt-Italic.ttf");
    font-weight: 500;
    font-style: italic;
}

@font-face {
    font-family: 'Prompt';
    src: url("../assets/font-prompt/Prompt-Bold.ttf");
    font-weight: 700;
    font-style: normal;
}

@font-face {
    font-family: 'Prompt';
    src: url("../assets/font-prompt/Prompt-BoldItalic.ttf");
    font-weight: 700;
    font-style: italic;
}

@font-face {
    font-family: 'Prompt';
    src: url("../assets/font-prompt/Prompt-Light.ttf");
    font-weight: 300;
    font-style: normal;
}

@font-face {
    font-family: 'Prompt';
    src: url("../assets/font-prompt/Prompt-LightItalic.ttf");
    font-weight: 300;
    font-style: italic;
}

@font-face {
    font-family: 'Arvo';
    src: url("../assets/font-arvo/Arvo-Regular.ttf");
    font-weight: 500;
    font-style: normal;
}

@font-face {
    font-family: 'Arvo';
    src: url("../assets/font-arvo/Arvo-Italic.ttf");
    font-weight: 500;
    font-style: italic;
}

@font-face {
    font-family: 'Arvo';
    src: url("../assets/font-arvo/Arvo-Bold.ttf");
    font-weight: 700;
    font-style: normal;
}

@font-face {
    font-family: 'Arvo';
    src: url("../assets/font-arvo/Arvo-BoldItalic.ttf");
    font-weight: 700;
    font-style: italic;
}

/************ BASE STYLES ************/

body {
    font-size: 1em;
    font-family: 'Prompt', Verdana, sans-serif;
    font-weight: 500;
}

h1, h2, h3, h4, h5, h6 {
    font-family: 'Arvo', Garamond, serif;
    font-weight: 700;
}

/************ RESPONSIVE LAYOUT ************/

/* Responsive display classes */

@each $breakpoint, $size in $breakpoints {
    .display-min-#{$breakpoint} {
        display: none;
    }

    @media only screen and (min-width: #{$size}) {
        .display-min-#{$breakpoint} {
            display: unset;
        }

        .display-max-#{$breakpoint} {
            display: none;
        }
    }
}

/* Mobile-first */
.container {
    width: 90%;
    margin: auto;
}

/* Small */
@media only screen and (min-width: map.get($breakpoints, "sm")) {
    .container {
        width: 80%;
    }
}

/* Medium */
@media only screen and (min-width: map.get($breakpoints, "md")) {
    .container {
        width: 70%;
    }
}

/* Large */
@media only screen and (min-width: map.get($breakpoints, "lg")) {
    .container {
        width: 60%;
    }
}

/************ NAVIGATION ************/

nav {
    ul {
        margin: 0;
        list-style-type: none;
    }

    li {
        margin: 0;
    }
}

#primary-menu {

    &.expanded {
        border-bottom: 10px solid $tct-green;
    }

    ul {
        padding: 0 2rem;
    }

    ul:first-child {
        padding: 0;
    }

    a {
        display: block;
        color: inherit;
        text-decoration: none;
    }

    a.active {
        color: $tct-green;
        font-weight: bold;
    }

    .toggler {
        padding: 0.5rem 0;
        background-color: $tct-green;
        text-align: center;
        
        button {
            background-color: #fff;
            border: 1px solid $tct-dk-green;
            border-radius: 0.25rem;
        }
    }

    #toggler-content {
        flex: 0 1 100%;
        overflow: hidden;
        transition: height 0.3s ease-out;
    }

    .hide {
        height: 0;
    }

    .show {
        height: var(--openHeight);
    }

}

// nav {
//     display: flex;
//     flex-wrap: wrap;
//     gap: math.div($sp, 2);
//     align-items: center;
//     form {
//         margin: 0;
//     }
//     button,
//     .button,
//     .button-primary {
//         margin: 0;
//     }
//     ul {
//         margin: 0;
//         padding: 0;
//         list-style-type: none;
//     }
//     li {
//         margin: 0;
//     }
//     a {
//         display: block;
//         color: inherit;
//         text-decoration: none;
//     }
//     a:hover {
//         color: inherit;
//     }
//     li:nth-child(n+2) {
//         padding-top: math.div($sp, 2);
//     }
//     .active {
//         font-weight: bold;
//     }
// }

// .site-identity {
//     flex: 1;
//     font-size: 2rem;
// }


// .controls {
//     display: flex;
//     align-items: center;
// }

// .toggler {
//     button {
//         height: auto;
//         margin: 0;
//         padding: 0;
//     }
//     span {
//         display: block;
//         margin-left: 1px; /* Fixes icon slightly off-center */
//         font-size: 2.5rem;
//     }
// }

// #toggler-content {
//     flex: 0 1 100%;
//     overflow: hidden;
//     transition: height 0.3s ease-out;
// }

// .hide {
//     height: 0;
// }

// .show {
//     height: var(--openHeight);
// }

// // Display on larger screens
// @media (min-width: 550px) {
//     nav {
//         ul {
//             display: flex;
//             flex-wrap: wrap;
//             justify-content: flex-end;
//             align-items: center;
//             margin-left: $sp;
//         }
//         li:nth-child(n+2) {
//             padding: 0;
//         }
//         li a {
//             padding: math.div($sp, 4) math.div($sp, 2);
//         }
//     }
    
//     .site-identity {
//         flex: none;
//         padding-right: math.div($sp, 2);
//     }

//     .controls {
//         order: 1;
//         padding-left: math.div($sp, 2);
//     }

//     .toggler {
//         display: none;
//     }

//     #toggler-content {
//         flex: 1;
//         overflow: visible;
//     }

//     .hide,
//     .show {
//         height: auto;
//     }
// }


/************ BUTTONS AND ALERTS ************/

@each $meaning, $color in $context-colors {
    
    .alert.#{$meaning} {
        color: shade($color, 75%);
        background-color: tint($color, 75%);
        border: 1px solid $color;
        border-radius: 0.5rem;
        padding: 0.25rem 0.5rem;
        margin: 1rem auto;
    }

    button.#{$meaning} {
        color: contrast-text($color);
        background-color: $color;
        border: 1px solid shade($color, 50%);
        border-radius: 0.5rem;
        padding: 0.25rem 0.5rem;
        font-weight: bold;
        text-transform: uppercase;
    }

    button.#{$meaning}:hover {
        background-color: tint($color, 25%);
        transition: 0.3s;
    }
}

/************ THEME COMPONENTS   ************/


/* Mobile-first */

.logo-banner {
    display: flex;
    justify-content: center;
    
    img {
        height: 5rem;
        padding: 2.5rem 0;
    }
}

.flower-border {
    height: 2rem;
    background-image: url("../assets/img/border.png");
    background-repeat: repeat-x;
    background-position: bottom center;
    background-size: cover;
}

/* Small */
@media only screen and (min-width: map.get($breakpoints, "sm")) {
    .flower-border {
        background-size: contain;
    }
}

/* Medium */
@media only screen and (min-width: map.get($breakpoints, "md")) {
    .logo-banner img {
        height: 6rem;
        padding: 3rem 0;
    }
}

/* Large */
@media only screen and (min-width: map.get($breakpoints, "lg")) {
    .logo-banner img {
        height: 7rem;
        padding: 3.5rem 0;
    }
}

/* Extra-large */
@media only screen and (min-width: map.get($breakpoints, "xl")) {
    .logo-banner img {
        height: 8rem;
        padding: 4rem 0;
    }
}


/************ COLORS / STYLES ************/

@each $label, $color in $theme-colors {

    @each $attribute, $prefix in $style-parts {
        .#{$prefix}-#{$label} {
            #{$attribute}: #{$color};
        }
    }

}

// .txt-bold {
//     font-weight: bold;
// }

// .txt-italic {
//     font-style: italic;
// }